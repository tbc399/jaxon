<div hx-swap-oob=\"outerHTML:#main-content\" id=\"main-content\" class=\"flex flex-col h-full items-center overflow-y-auto\"><div class=\"max-w-[1000px] min-w-[1000px] pt-16\"><div class=\"flex justify-between mb-7\"><h1 class=\"font-semibold text-3xl text-slate-200\">Connections</h1><button id=\"add-account-button\" type=\"button\" title=\"Connect new account\" class=\"py-0 ps-2.5 pe-3.5 inline-flex items-center gap-x-1 text-sm font-semibold rounded-md\n                      text-gray-100 bg-teal-600 active:bg-teal-600 hover:bg-teal-700 disabled:opacity-50 \n                      disabled:pointer-events-none\"><svg viewBox=\"0 0 24 24\" class=\"size-3 fill-none stroke-2 stroke-slate-100\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\"></path></svg> Add</button></div><div class=\"w-full flex flex-row justify-between items-center gap-x-2 border-b border-gray-800\"><div id=\"accounts-tab-group\" hx-target=\"#accounts-tab-list\" hx-swap=\"outerHTML\" class=\"flex h-full\"><script>\n                        // Tab selection changing\n                        htmx.on(\"#accounts-tab-group\", \"htmx:beforeRequest\", function(event) {\n                          let currentTab = document.querySelector('.tab-active');\n                          currentTab.classList.remove('tab-active');\n                          currentTab.classList.add('tab');\n                          let newTab = event.target;\n                          newTab.classList.remove('tab');\n                          newTab.classList.add('tab-active');\n                        })\n                    </script>
<button id=\"accounts-tab\" hx-get=\"/accounts/accounts-tab\" hx-push-url=\"/accounts\" class=\"
\">Accounts</button> 
<button id=\"assets-tab\" hx-get=\"/accounts/assets-tab\" hx-push-url=\"/accounts/assets\" class=\"
\">Assets</button></div><button id=\"add-account-button\" type=\"button\" title=\"Connect new account\" class=\"hidden py-1.5 ps-3 pe-3.5 inline-flex items-center gap-x-1 text-sm font-semibold rounded-md\n                      text-gray-100 bg-teal-600 active:bg-teal-600 hover:bg-teal-700 disabled:opacity-50 \n                      disabled:pointer-events-none\"><svg viewBox=\"0 0 24 24\" class=\"size-3 fill-none stroke-2 stroke-slate-100\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\"></path></svg> Add account</button><script>\n                  htmx.on(\"#add-account-button\", \"click\",\n                    async function(evt) {\n                      fetch(\"/accounts/connect\")\n                        .then(async function(response) {\n                          return response.json();\n                        }).then(async function(json) {\n                          const stripe = new Stripe(\"{{ stripe_pub_key }}\");\n                          const sessionResult = await stripe.collectFinancialConnectionsAccounts({\n                            clientSecret: json[\"client_secret\"]\n                          }).then(async function(result) {\n                            if (result.error) {\n                              // Inform the customer that there was an error.\n                              console.log(result.error.message);\n                            // Handle next step based on length of accounts array\n                            } else if (result.financialConnectionsSession.accounts.length === 0) {\n                              console.log('No accounts were linked');\n                            } else {\n                              //console.log(result.financialConnectionsSession.accounts)\n                              event = new CustomEvent(\"accountsLinked\")\n                              e = document.getElementById(\"accounts-tab-list\")\n                              e.dispatchEvent(event)\n                            }\n                          });\n                        });\n                    }\n                  );\n                </script></div>
</div></div>
